{"version":3,"file":"index.js","sources":["../../src/node/baiduAnalyticsPlugin.ts"],"sourcesContent":["import { Logger } from '@vuepress/helper'\nimport type { Plugin, PluginObject } from 'vuepress/core'\nimport { colors, getDirname, path } from 'vuepress/utils'\nimport type { BaiduAnalyticsPluginOptions } from './options.js'\n\nconst __dirname = import.meta.dirname || getDirname(import.meta.url)\n\nconst PLUGIN_NAME = '@vuepress/plugin-baidu-analytics'\n\nconst logger = new Logger(PLUGIN_NAME)\n\nexport const baiduAnalyticsPlugin =\n  ({ id }: BaiduAnalyticsPluginOptions): Plugin =>\n  (app) => {\n    const plugin: PluginObject = {\n      name: PLUGIN_NAME,\n    }\n\n    if (!id) {\n      logger.warn(`${colors.cyan('id')} is required!`)\n\n      return plugin\n    }\n\n    // returns an empty plugin in dev mode when debug mode is not enabled\n    if (app.env.isDev) {\n      return plugin\n    }\n\n    return {\n      ...plugin,\n\n      clientConfigFile: path.resolve(__dirname, '../client/config.js'),\n\n      define: {\n        __BD_ID__: id,\n      },\n    }\n  }\n"],"names":["__dirname","getDirname","PLUGIN_NAME","logger","Logger","baiduAnalyticsPlugin","id","app","plugin","path","colors"],"mappings":"4GAKA,MAAMA,EAAY,YAAY,SAAWC,EAAW,YAAY,GAAG,EAE7DC,EAAc,mCAEdC,EAAS,IAAIC,EAAOF,CAAW,EAExBG,EACX,CAAC,CAAE,GAAAC,CAAG,IACLC,GAAQ,CACP,MAAMC,EAAuB,CAC3B,KAAMN,CACR,EAEA,OAAKI,EAODC,EAAI,IAAI,MACHC,EAGF,CACL,GAAGA,EAEH,iBAAkBC,EAAK,QAAQT,EAAW,qBAAqB,EAE/D,OAAQ,CACN,UAAWM,CACb,CACF,GAlBEH,EAAO,KAAK,GAAGO,EAAO,KAAK,IAAI,CAAC,eAAe,EAExCF,EAiBX"}